import{_ as g,I as l,c as i,o as n,j as r,e as T,J as t,w as y,n as p,G as m,a as u,t as k,u as V}from"./chunks/framework.rmZCRNbh.js";import{b as x,g as P,c as b,h as R,a as C}from"./chunks/theme.UGABy0ii.js";import{d as I}from"./chunks/gameCode.B_tBZGK0.js";const D={name:"ViewWordPage",components:{MaterialTextInput:C,MaterialDropdownFilled:R,MaterialTextButton:b,MaterialModal:P,MaterialToast:x},setup(){const{isDark:s}=V();return{isDark:s}},data(){return{gameToken:"",selectedPlayer:"",players:[],impostors:[],parola:"",showRevealModal:!1,roleVisible:!1,showToast:!1,toastMessage:"",toastType:"success",playerRevealed:!1}},methods:{loadGame(){try{const s=I(this.gameToken);this.players=s.giocatori,this.impostors=s.impostori,this.parola=s.parola,this.showToastMessage("Partita caricata correttamente!","success")}catch(s){this.showToastMessage(`Errore: ${s.message}`,"error")}},isImpostor(s){return this.impostors.includes(s)},revealRole(){this.selectedPlayer&&(this.roleVisible=!1,this.showRevealModal=!0,this.$nextTick(()=>{setTimeout(()=>{this.roleVisible=!0},50)}))},closeRevealModal(){this.showRevealModal=!1,this.roleVisible=!1,this.playerRevealed=!0},showToastMessage(s,o="success"){this.toastMessage=s,this.toastType=o,this.showToast=!0}}},B={class:"page-container"},N={class:"token-section"},O={key:0,class:"select-section"},S={class:"reveal-content"};function U(s,o,h,w,e,c){const M=l("MaterialTextInput"),d=l("MaterialTextButton"),_=l("MaterialDropdownFilled"),v=l("MaterialModal"),f=l("MaterialToast");return n(),i("div",{class:p(["view-word-page",{"dark-mode":w.isDark}])},[r("div",B,[o[4]||(o[4]=r("h1",{class:"page-title"},"Visualizza la Parola 🔍",-1)),r("div",N,[t(M,{modelValue:e.gameToken,"onUpdate:modelValue":o[0]||(o[0]=a=>e.gameToken=a),label:"Inserisci il tuo token",placeholder:"IMPO1_..."},null,8,["modelValue"]),t(d,{text:"Carica Partita","color-scheme":"primary",disabled:!e.gameToken,onClick:c.loadGame},null,8,["disabled","onClick"])]),e.players.length>0?(n(),i("div",O,[t(_,{modelValue:e.selectedPlayer,"onUpdate:modelValue":o[1]||(o[1]=a=>e.selectedPlayer=a),options:e.players.map(a=>({label:a,value:a})),label:"Seleziona il tuo nickname",placeholder:"Scegli il tuo nome",disabled:e.playerRevealed},null,8,["modelValue","options","disabled"]),t(d,{text:"Mostra la Parola","color-scheme":"primary",disabled:!e.selectedPlayer||e.playerRevealed,onClick:c.revealRole},null,8,["disabled","onClick"])])):T("",!0),t(v,{show:e.showRevealModal,"onUpdate:show":o[2]||(o[2]=a=>e.showRevealModal=a),title:`Ruolo di ${e.selectedPlayer}`,onConfirm:c.closeRevealModal,"show-cancel":!1},{default:y(()=>[r("div",S,[r("div",{class:p(["role-text",{show:e.roleVisible}])},[c.isImpostor(e.selectedPlayer)?(n(),i(m,{key:0},[u(" IMPOSTORE 👀 ")],64)):(n(),i(m,{key:1},[u(k(e.parola.toUpperCase()),1)],64))],2)])]),_:1},8,["show","title","onConfirm"]),t(f,{show:e.showToast,"onUpdate:show":o[3]||(o[3]=a=>e.showToast=a),message:e.toastMessage,type:e.toastType},null,8,["show","message","type"])])],2)}const z=g(D,[["render",U],["__scopeId","data-v-4efa34c4"]]),J=JSON.parse('{"title":"","description":"","frontmatter":{"prev":false,"next":false},"headers":[],"relativePath":"view-word.md","filePath":"view-word.md"}'),F={name:"view-word.md"},W=Object.assign(F,{setup(s){return(o,h)=>(n(),i("div",null,[t(z)]))}});export{J as __pageData,W as default};
